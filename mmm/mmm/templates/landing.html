{% extends "base.html" %}
{% block style %}
	<link href="/static/css/landing.css" rel="stylesheet">
{% endblock %}

{% block content %}
	<div class="container-fluid">
		<div class="row-fluid">

			<div class="span7">

				<div class="row-fluid my-news-feed">

					<!-- if we use this hover pop up, we need to limit # of words/characters displayed in descripton -->
					{% for project in projects %}
					{% if request.user.is_authenticated %}
					<div class="span8" style = "margin-left:2%">
					{% else %}
					<div class="span8 span8absheight" style = "margin-left:2%">
					{% endif %}
						<h2>{{ project.title }}</h2>
							{% if request.user.is_authenticated %}
							<div class = "feeditemLogged"
							<p class = "feedText">{{ project.description }}</p>
							<p><a class="btn" href="project/{{ project.id }}" style = "bottom:0">View details &raquo;</a></p>
							{% else %}
							<div class= "feedItem">
							<div class = "prompt well">
								<a href="/login">
									<button class = "btn btn-info">Log in to view details </button>
								</a>
							</div>
							<p class = "blur feedText"> Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. Donec id elit non mi porta gravida at eget metus Donec id elit non mi porta gravida at eget metus. </p>
							<p><a class="btn" href="project/{{ project.id }}" style = "bottom:0">View details &raquo;</a></p>
							{% endif %}
						</div>
					</div><!--/span-->
					{% endfor %}
				</div><!--/row-->
			</div><!--/span-->
		</div><!--/row-->

		<!-- New Project Modal -->
		{% if request.user.is_authenticated %}
		<div id="newProjModal" style="height:auto" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
				<h3 id="myModalLabel">New Project</h3>

			</div>
			<form  method="post" action="/new_project/" enctype="multipart/form-data">
				<div class="modal-body" style="max-height: none;">
					<input type="text" name="title" class="input-block" placeholder="Title"><br>
					<div> 
						<h5>Upload an image for your project</h5>
						<input type = "file" class = "" name="image">
					</div>
					<h5>Check all categories this project falls under</h5>
						<div class = "row checkColumn">
							{% for category in category_list %}
							<div class="checkColumn">
								<li class="nav-header">{{ category.category_top.name }}</li>
								{% for category_sub in category.category_sub_list %}
									<input type="checkbox" name="category_subs" value="{{ category_sub.id }}">{{ category_sub.name }} <br />
								{% endfor %}
							</div>
							{% endfor %}
						</div>
					<textarea name="description" placeholder="Description"></textarea><br />
					<input checked type="checkbox" name="in_gallery" value="true"> Show in Gallery after Completed <br />
				</div>
				<div class="modal-footer">
					<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
					<input type="submit" class="btn btn-info" value="Submit" />
				</div>
				{% csrf_token %}
			</form>
		</div>
		{% endif %}
		</div>
		</div>
		<div class = "push"></div>

		<!-- essential for sticky footer -->
{% endblock %}

{% block script %}
	<script src="/static/js/landing.js"></script>
{% endblock %}
